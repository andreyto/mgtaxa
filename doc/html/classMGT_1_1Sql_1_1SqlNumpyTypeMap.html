<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>Mgtaxa: MGT::Sql::SqlNumpyTypeMap Class Reference</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
<link href="tabs.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.4.6 -->
<div class="tabs">
  <ul>
    <li><a href="index.html"><span>Main&nbsp;Page</span></a></li>
    <li id="current"><a href="annotated.html"><span>Classes</span></a></li>
    <li><a href="pages.html"><span>Related&nbsp;Pages</span></a></li>
  </ul></div>
<div class="tabs">
  <ul>
    <li><a href="annotated.html"><span>Class&nbsp;List</span></a></li>
    <li><a href="hierarchy.html"><span>Class&nbsp;Hierarchy</span></a></li>
    <li><a href="functions.html"><span>Class&nbsp;Members</span></a></li>
  </ul></div>
<div class="nav">
<b>MGT</b>::<b>Sql</b>::<a class="el" href="classMGT_1_1Sql_1_1SqlNumpyTypeMap.html">SqlNumpyTypeMap</a></div>
<h1>MGT::Sql::SqlNumpyTypeMap Class Reference</h1><!-- doxytag: class="MGT::Sql::SqlNumpyTypeMap" --><a href="classMGT_1_1Sql_1_1SqlNumpyTypeMap-members.html">List of all members.</a><table border="0" cellpadding="0" cellspacing="0">
<tr><td></td></tr>
<tr><td colspan="2"><br><h2>Public Member Functions</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">def&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classMGT_1_1Sql_1_1SqlNumpyTypeMap.html#bb63f3a5f6b94d65ea68392dc204bcc6">__init__</a></td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">def&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classMGT_1_1Sql_1_1SqlNumpyTypeMap.html#397338b9ddc71d70b3e30f4ecaaa0653">dtype</a></td></tr>

</table>
<hr><a name="_details"></a><h2>Detailed Description</h2>
<div class="fragment"><pre class="fragment">Map between SQL data types and NumPy data types.
Precision in digits vs number of bytes for integer NUMBER types are taken
from MySQL reference (but should be universal)
http://dev.mysql.com/doc/refman/5.0/en/numeric-types.html
and from SQL code:
db.ddl("create table tmp_types (f_bool bool, f_tinyint tinyint, f_smallint smallint, f_med mediumint, f_int int,"+
" f_big bigint, f_char char(5), f_float float)",dropList=["table tmp_types"])
curs = db.execute("select * from tmp_types limit 1")
print curs.description
</pre></div> 
<p>
<hr><h2>Member Function Documentation</h2>
<a class="anchor" name="bb63f3a5f6b94d65ea68392dc204bcc6"></a><!-- doxytag: member="MGT::Sql::SqlNumpyTypeMap::__init__" ref="bb63f3a5f6b94d65ea68392dc204bcc6" args="" --><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">def MGT::Sql::SqlNumpyTypeMap::__init__           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">&nbsp;</td>
          <td class="mdname" nowrap> <em>self</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap>&nbsp;</td>
          <td class="mdname" nowrap> <em>dbapi</em></td>
        </tr>
        <tr>
          <td class="md"></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
<div class="fragment"><pre class="fragment">@param dbapi - Python DBAPI module instance.</pre></div>     </td>
  </tr>
</table>
<a class="anchor" name="397338b9ddc71d70b3e30f4ecaaa0653"></a><!-- doxytag: member="MGT::Sql::SqlNumpyTypeMap::dtype" ref="397338b9ddc71d70b3e30f4ecaaa0653" args="" --><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">def MGT::Sql::SqlNumpyTypeMap::dtype           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">&nbsp;</td>
          <td class="mdname" nowrap> <em>self</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap>&nbsp;</td>
          <td class="mdname" nowrap> <em>descr</em></td>
        </tr>
        <tr>
          <td class="md"></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
<div class="fragment"><pre class="fragment">Take cursor.description object and return NumPy dtype suitable for record array construction.
dtype is returned in a 'list of tuples' representation e.g. [('id','int8'),('taxid','int4')]
SQL is case insensitive, so we convert field names to lower case when constructing dtype.
@bug 'smallint' in MySQL DBAPI has typecode 2, which is not recognized as NUMBER by that DBAPI.
You should cast 'smallint' fields to some other integer type in your SQL SELECT statement.</pre></div>     </td>
  </tr>
</table>
<hr>The documentation for this class was generated from the following file:<ul>
<li>mgtaxa/MGT/Sql.py</ul>
<hr size="1"><address style="align: right;"><small>Generated on Sat May 8 15:32:21 2010 for Mgtaxa by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border="0"></a> 1.4.6 </small></address>
</body>
</html>
